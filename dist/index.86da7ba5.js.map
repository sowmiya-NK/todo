{"mappings":"AAAA,IAAI,QAAgB,KAAK,MAAM,aAAa,QAAQ;AACpD,MAAM,SAAiB,KAAK,MAAM,aAAa,QAAQ;AAEvD,IAAI,CAAC,OACH,aAAa,QAAQ,SAAS,KAAK,UAAU,EAAE;AAEjD,IAAI,CAAC,QACH,aAAa,QAAQ,UAAU,KAAK,UAAU;AAGhD,MAAM,SAAS,CAAC;IACd,MAAM,YAAY,SAAS,eAAe;IAE1C,IAAI,OAAO;IACX,KAAK,IAAI,QAAQ,MACf,QAAQ,CAAC,QAAQ,EAAE,KAAK,GAAG;QACvB,EAAE,KAAK,KAAK;mCACe,EAAE,KAAK,GAAG;iCACZ,EAAE,KAAK,GAAG;OACpC,CAAC;IAEN,UAAU,YAAY;AACxB;AAEA,QAAQ;AAER,MAAM,cAAc,CAAC;IACnB,IAAI,UAAU,KAAK,MAAM,aAAa,QAAQ;IAC9C,MAAM,QAAQ,MAAM,UAAU,CAAC,MAAQ,IAAI,OAAO;IAClD,QAAQ,OAAO,OAAO;IACtB,aAAa,QAAQ,SAAS,KAAK,UAAU;IAC7C,OAAO;AACT;AAEA,MAAM;AACN,MAAM,YAAY,CAAC;IACjB,MAAM,cAAc,SAAS,eAAe;IAC5C,MAAM,SAAS,SAAS,eAAe;IAEvC,IAAI,UAAU,KAAK,MAAM,aAAa,QAAQ;IAC9C,MAAM,QAAQ,QAAQ,UAAU,CAAC,MAAQ,IAAI,OAAO;IACpD,sBAAsB;IAEtB,YAAY,QAAQ,OAAO,CAAC,MAAM,CAAC;IACnC,OAAO,iBAAiB,SAAS;QAC/B,OAAO,CAAC,MAAM,GAAG;YACf,IAAI;YACJ,MAAM,YAAY;QACpB;QACA,aAAa,QAAQ,SAAS,KAAK,UAAU;QAC7C,OAAO;IACT;AACF;AAEA,eAAe;AACf,MAAM,UAAU;IACd,MAAM,cAAc,SAAS,eAAe;IAE5C,IAAI,QAAQ,KAAK,MAAM,aAAa,QAAQ;IAC5C,IAAI,SAAS,KAAK,MAAM,aAAa,QAAQ;IAE7C,sBAAsB;IAEtB,MAAM,KAAK;QACT,IAAI;QACJ,MAAM,YAAY;IACpB;IAEA,aAAa,QAAQ,SAAS,KAAK,UAAU;IAE7C,aAAa,QAAQ,UAAU,KAAK,UAAU,SAAS;IACvD,SAAS,UAAU,gBAAgB;AACrC;AACA,QAAQ,KAAK,MAAM,aAAa,QAAQ;AACxC,OAAO","sources":["src/script.ts"],"sourcesContent":["let users: object = JSON.parse(localStorage.getItem(\"users\"));\r\nconst userId: number = JSON.parse(localStorage.getItem(\"userId\"));\r\n\r\nif (!users) {\r\n  localStorage.setItem(\"users\", JSON.stringify([]));\r\n}\r\nif (!userId) {\r\n  localStorage.setItem(\"userId\", JSON.stringify(1));\r\n}\r\n\r\nconst render = (users): void => {\r\n  const recordRef = document.getElementById(\"records\");\r\n\r\n  let body = \"\";\r\n  for (let user of users) {\r\n    body += `<tr><td>${user.Id}</td>\r\n    <td>${user.Name}</td>\r\n    <td><button onclick=\"editEvent(${user.Id})\">edit</button>\r\n    <button onclick=\"deleteEvent(${user.Id})\">delete</button></td>\r\n  </tr>`;\r\n  }\r\n  recordRef.innerHTML = body;\r\n};\r\n\r\n//delete\r\n\r\nconst deleteEvent = (id) => {\r\n  let newuser = JSON.parse(localStorage.getItem(\"users\"));\r\n  const index = users.findIndex((obj) => obj.Id === id);\r\n  newuser.splice(index, 1);\r\n  localStorage.setItem(\"users\", JSON.stringify(newuser));\r\n  render(newuser);\r\n};\r\n\r\n//edit\r\nconst editEvent = (id) => {\r\n  const usernameRef = document.getElementById(\"username\");\r\n  const addRef = document.getElementById(\"add\");\r\n\r\n  let newuser = JSON.parse(localStorage.getItem(\"users\"));\r\n  const index = newuser.findIndex((obj) => obj.Id === id);\r\n  // console.log(index);\r\n\r\n  usernameRef.value = newuser[index].Name;\r\n  addRef.addEventListener(\"click\", () => {\r\n    newuser[index] = {\r\n      Id: id,\r\n      Name: usernameRef.value,\r\n    };\r\n    localStorage.setItem(\"users\", JSON.stringify(newuser));\r\n    render(newuser);\r\n  });\r\n};\r\n\r\n//getting input\r\nconst addTodo = (): void => {\r\n  const usernameRef = document.getElementById(\"username\");\r\n\r\n  let users = JSON.parse(localStorage.getItem(\"users\"));\r\n  let userId = JSON.parse(localStorage.getItem(\"userId\"));\r\n\r\n  // console.log(\"hai\");\r\n\r\n  users.push({\r\n    Id: userId,\r\n    Name: usernameRef.value,\r\n  });\r\n\r\n  localStorage.setItem(\"users\", JSON.stringify(users));\r\n\r\n  localStorage.setItem(\"userId\", JSON.stringify(userId + 1));\r\n  location.reload(); //explicit error\r\n};\r\nusers = JSON.parse(localStorage.getItem(\"users\"));\r\nrender(users);\r\n"],"names":[],"version":3,"file":"index.86da7ba5.js.map","sourceRoot":"/__parcel_source_root/"}